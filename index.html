<!DOCTYPE html>
<html lang="en">

<head>
    <title>Index</title>
    <link rel="stylesheet" type="text/css" href="assets/css/style.css">
</head>

<body class="main-container">
    <div class="welcome-container" id="welcome">
        <script>
            function deleteCookie(name) {
                document.cookie = name + "=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;";
            }

            function getCookie(name) {
                var nameEQ = name + "=";
                var cookies = document.cookie.split(';');
                for (var i = 0; i < cookies.length; i++) {
                    var cookie = cookies[i];
                    while (cookie.charAt(0) === ' ') {
                        cookie = cookie.substring(1, cookie.length);
                    }
                    if (cookie.indexOf(nameEQ) === 0) {
                        return cookie.substring(nameEQ.length, cookie.length);
                    }
                }
                return null;
            }

            let name = getCookie('name')
            if (getCookie('name')) {
                document.getElementById('welcome').textContent = 'Ciao ' + name + '!';
            }
        </script>
    </div>

    <h1>Cosa vuoi fare?</h1>

    <div class="login" id="login">
        <button id="login-btn">
            ACCEDERE
        </button>
    </div>

    <div class="register" id="register">
        <button id="register-btn">
            REGISTARE UN ACCOUNT
        </button>
    </div>

    <div class="logout" id="logout">

    </div>

    <script>
        if (name) {
            document.getElementById('login').style.display = 'none';
            document.getElementById('register').style.display = 'none';
            const button = document.createElement('button');
            button.textContent = 'LOGOUT'
            button.setAttribute('id', 'logout-btn');
            button.addEventListener('click', () => {
                deleteCookie("name");
                window.location.reload();
            })
            document.getElementById('logout').appendChild(button);
        }
    </script>
</body>

<script src="https://cdn.jsdelivr.net/npm/bcryptjs/dist/bcrypt.min.js"></script>
<script src="assets/javascript/index.js"></script>

</html>